# GUI 操作筆記

## 啟動
```bash
python3 -m gui
```

## 流程
1) 選擇影片、字幕、輸出資料夾  
2) 在「時間區間」表格輸入/匯入區間（可含標題，時間格式 `HH:MM:SS(.ff)`，`.ff` 為 30fps 影格）  
3) 如需：勾選「精準輸出」欄、或在預覽對話框開啟精準  
4) （選）預覽/微調：可編輯時間、字幕、切換精準/硬體加速；開啟精準時預覽轉碼為 360p 且保留低碼率音訊，支援取消  
5) 執行裁切，輸出對應 mp4 + srt

## 勾選項行為
- 檢查影片長度：先 ffprobe 確認區間不越界
- 詳細日誌：印出 ffmpeg 命令與進度
- 檔名附加時間：無標題時，檔名加起訖時間片段
- 精準輸出（欄位/預覽切換）：重編碼，時間對齊較精準；未勾選則用 `-c copy`
- 精準輸出使用硬體編碼：重編碼時用 VideoToolbox（Apple Silicon）加速

## 預覽行為
- 開啟精準預覽時使用快速重編碼：VideoToolbox/CPU 皆縮至 360p、保留低碼率音訊，以加速；未開精準則用 `-c copy`；正式輸出不受影響
- 預覽可取消，處理中會顯示進度條/提示
- 影片下方顯示目前字幕行（非疊加畫面）
- 在預覽內修改字幕只影響該片段的輸出字幕

## 設定儲存
- 自動保存到 `~/.fastvideoslice_settings.json`：最近路徑、區間列表、各勾選狀態、精準旗標等
